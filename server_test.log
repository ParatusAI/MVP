/Users/babacaveman/Desktop/ai_spectral_agent/integrated_mvp_app.py:1207: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
/Users/babacaveman/Desktop/ai_spectral_agent/integrated_mvp_app.py:1217: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("shutdown")
2025-06-26 20:43:12,829 - __main__ - INFO - 🔍 Checking system requirements...
2025-06-26 20:43:12,829 - __main__ - INFO - 🌐 Starting web interface on http://localhost:8000
2025-06-26 20:43:12,829 - __main__ - INFO - 📊 Monitor at: http://localhost:8000
2025-06-26 20:43:12,829 - __main__ - INFO - 🚀 Demo API: POST http://localhost:8000/api/demo/start
INFO:     Started server process [18256]
INFO:     Waiting for application startup.
2025-06-26 20:43:12,839 - __main__ - INFO - 🔧 Integration system initialized
2025-06-26 20:43:12,839 - __main__ - INFO - 📁 Predictions: real_time_predictions
2025-06-26 20:43:12,839 - __main__ - INFO - 📁 Spectral: spectral_images_realtime
2025-06-26 20:43:12,839 - __main__ - INFO - 🔧 Initializing AI components...
2025-06-26 20:43:12,902 - __main__ - INFO - ✅ CNN model loaded: ml-model-files/ml-models/cspbbr3_final_model.pth
/Users/babacaveman/Desktop/ai_spectral_agent/mvp_venv/lib/python3.13/site-packages/gymnasium/spaces/box.py:305: UserWarning: [33mWARN: Box high's precision lowered by casting to float32, current high.dtype=float64[0m
  gym.logger.warn(
/Users/babacaveman/Desktop/ai_spectral_agent/mvp_venv/lib/python3.13/site-packages/stable_baselines3/common/env_checker.py:462: UserWarning: We recommend you to use a symmetric and normalized Box action space (range=[-1, 1]) cf. https://stable-baselines3.readthedocs.io/en/master/guide/rl_tips.html
  warnings.warn(
2025-06-26 20:43:12,906 - __main__ - INFO - ✅ RL model loaded: models/ppo_integrated_mvp.zip
2025-06-26 20:43:12,906 - __main__ - INFO - 🎯 RL targets set: PLQY=80.0%, λ=520.0nm, FWHM=20.0nm
2025-06-26 20:43:12,906 - __main__ - INFO - 🔧 Digital Twin Simulator initialized
2025-06-26 20:43:12,906 - __main__ - INFO - ✅ AI components initialized (CNN + RL + Digital Twin)
2025-06-26 20:43:12,906 - __main__ - INFO - 👀 Monitoring spectral images...
2025-06-26 20:43:12,906 - __main__ - INFO - 👀 Monitoring prediction files...
2025-06-26 20:43:12,906 - __main__ - INFO - 🔍 File monitoring started
2025-06-26 20:43:12,906 - __main__ - INFO - ⏱️ CNN predictions: Every 30s
2025-06-26 20:43:12,906 - __main__ - INFO - ⏱️ RL responses: Within 10s
2025-06-26 20:43:12,906 - __main__ - INFO - 🚀 MVP system started
INFO:     Application startup complete.
2025-06-26 20:43:12,907 - __main__ - INFO - 📸 Processing spectral image: spectrum_001_20250624_200803.png
2025-06-26 20:43:12,907 - __main__ - INFO - 📥 RL Processing: prediction_20250624_200804.csv
2025-06-26 20:43:12,909 - __main__ - INFO - 🔧 Digital Twin Validation: APPROVE
ERROR:    [Errno 48] error while attempting to bind on address ('0.0.0.0', 8000): address already in use
2025-06-26 20:43:12,910 - __main__ - INFO -    Reasoning: RL parameters safe but may produce 2D Perovskite (confidence: 84.1%)
INFO:     Waiting for application shutdown.
2025-06-26 20:43:12,910 - __main__ - INFO - 🔧 Digital Twin updated: 3D Perovskite (confidence: 86.5%)
2025-06-26 20:43:12,910 - __main__ - INFO - 🤖 RL Decision Complete (0.00s):
2025-06-26 20:43:12,910 - __main__ - INFO -    Cs Flow: 0.350 mL/min
2025-06-26 20:43:12,910 - __main__ - INFO -    Pb Flow: 0.100 mL/min
2025-06-26 20:43:12,910 - __main__ - INFO -    Temperature: 60.0 °C
2025-06-26 20:43:12,910 - __main__ - INFO -    Reward: -6270.56
2025-06-26 20:43:12,910 - __main__ - INFO - 🛑 File monitoring stopped
2025-06-26 20:43:12,910 - __main__ - INFO - 🛑 MVP system shutdown
INFO:     Application shutdown complete.
🧪 CsPbBr3 Synthesis MVP - Integrated AI System
============================================================
🤖 Isaiah's CNN (94.4% R²) + Ryan's RL (PPO) + File Integration
📊 Web monitoring interface included
⏱️  Performance: CNN=30s, RL=10s
============================================================
Wrapping the env with a `Monitor` wrapper
Wrapping the env in a DummyVecEnv.
